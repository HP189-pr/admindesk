{% extends "admin/base_site.html" %}
{% load static %}

{% block content %}
<h1>{{ title }}</h1>

<div style="margin: 20px 0;">
    <p>Upload a CSV file to bulk import student degree records.</p>
    <p><strong>CSV Format:</strong> The file must contain the following columns:</p>
    <ul style="margin-left: 30px;">
        <li><code>enrollment_no</code> (required)</li>
        <li><code>dg_sr_no</code></li>
        <li><code>student_name_dg</code></li>
        <li><code>dg_address</code></li>
        <li><code>institute_name_dg</code></li>
        <li><code>degree_name</code></li>
        <li><code>specialisation</code></li>
        <li><code>seat_last_exam</code></li>
        <li><code>last_exam_month</code></li>
        <li><code>last_exam_year</code></li>
        <li><code>class_obtain</code></li>
        <li><code>course_language</code></li>
        <li><code>dg_rec_no</code></li>
        <li><code>dg_gender</code></li>
        <li><code>convocation_no</code></li>
    </ul>
    <p><strong>Note:</strong> If a record with the same <code>dg_sr_no</code> exists, it will be updated. Otherwise, a new record will be created.</p>
</div>

<form method="post" enctype="multipart/form-data" style="margin: 20px 0;">
    {% csrf_token %}
    <div style="margin-bottom: 15px;">
        <label for="csv_file" style="display: block; font-weight: bold; margin-bottom: 5px;">Select CSV File:</label>
        <input type="file" name="csv_file" id="csv_file" accept=".csv" required 
               style="padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
    </div>
    <div>
        <button type="submit" 
                style="background-color: #417690; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">
            Upload and Process
        </button>
        <a href=".." 
           style="margin-left: 10px; padding: 10px 20px; background-color: #f8f9fa; color: #333; text-decoration: none; border: 1px solid #ccc; border-radius: 4px; display: inline-block;">
            Cancel
        </a>
    </div>
</form>

<div style="margin-top: 30px; padding: 15px; background-color: #f8f9fa; border-left: 4px solid #417690;">
    <h3 style="margin-top: 0;">Sample CSV Template</h3>
    <pre style="background: white; padding: 10px; border: 1px solid #ddd; overflow-x: auto;">enrollment_no,dg_sr_no,student_name_dg,degree_name,specialisation,convocation_no,last_exam_year
20CS001,DG2024001,John Doe,Bachelor of Engineering,Computer Science,1,2024
20CS002,DG2024002,Jane Smith,Bachelor of Engineering,Information Technology,1,2024</pre>
</div>

{% endblock %}
