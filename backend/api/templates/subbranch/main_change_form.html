{% extends "admin/change_form.html" %}

{% block object-tools %}
<div class="object-tools">
    {# Prefer using the resolved URL passed in the view context #}
    {% if upload_excel_url %}
        <a href="{{ upload_excel_url }}" class="button">Upload Excel</a>
    {% else %}
        {# Fallback: attempt to reverse by namespaced name (ensure it matches admin.py) #}
        <form action="{% url 'admin:api_mainbranch_upload_excel' %}" method="get" style="display:inline;">
            <button class="button">Upload Excel</button>
        </form>
    {% endif %}
</div>
{{ block.super }}
{% endblock %}
